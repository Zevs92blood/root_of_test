// –ü—Ä–∏–º–µ–Ω—è–µ–º –ø–ª–∞–≥–∏–Ω—ã
plugins {
    id 'java' // –î–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤ –Ω–∞ Java
}

// –ó–∞–¥–∞–µ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏, –≥–¥–µ Gradle –±—É–¥–µ—Ç –∏—Å–∫–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
repositories {
    mavenCentral()
}

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Ç–µ—Å—Ç–æ–≤ —Å TestNG
test {
    useTestNG()
    // –£–∫–∞–∑—ã–≤–∞–µ–º, —á—Ç–æ TestNG –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ–∞–π–ª –Ω–∞—Å—Ç—Ä–æ–µ–∫
    // –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ testng.xml, —Ä–∞—Å–∫–æ–º–º–µ–Ω—Ç–∏—Ä—É–π—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ —Å—Ç—Ä–æ–∫–∏:
    // useTestNG {
    //     suites 'src/test/resources/testng.xml'
    // }
}

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Allure: –¥–æ–±–∞–≤–ª—è–µ–º –ø–ª–∞–≥–∏–Ω –∏ –µ–≥–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
// Allure plugin –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –æ—Ç—á–µ—Ç–æ–≤ –ø–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
apply plugin: 'io.qameta.allure'

allure {
    version = '2.24.0' // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç—É –∂–µ –≤–µ—Ä—Å–∏—é, —á—Ç–æ –∏ allure-testng
    autoconfigure = true
    // –ü–∞–ø–∫–∞, –∫—É–¥–∞ Allure —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã (–¥–æ–ª–∂–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å –¥–µ—Ñ–æ–ª—Ç–Ω–æ–π)
    resultsDir = file('build/allure-results')
}

// –û—Å–Ω–æ–≤–Ω–æ–π –±–ª–æ–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
dependencies {
    // ------------------------------------
    // ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω–æ–π –°—Ç–µ–∫ (TestNG + Selenide)
    // ------------------------------------

    // Selenide: –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å UI
    implementation 'com.codeborne:selenide:6.19.1'

    // TestNG: —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
    testImplementation 'org.testng:testng:7.8.0'

    // ------------------------------------
    // üìä Allure Reports
    // ------------------------------------

    // Allure-TestNG: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Allure —Å TestNG
    testImplementation 'io.qameta.allure:allure-testng:2.24.0'

    // ------------------------------------
    // üîÑ –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ XML –≤ JSON (Jackson)
    // ------------------------------------

    // Jackson Databind: –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å JSON
    implementation 'com.fasterxml.jackson.core:jackson-databind:2.15.2'

    // Jackson Dataformat XML: –¥–ª—è —á—Ç–µ–Ω–∏—è –∏ –∑–∞–ø–∏—Å–∏ XML
    implementation 'com.fasterxml.jackson.dataformat:jackson-dataformat-xml:2.15.2'
}